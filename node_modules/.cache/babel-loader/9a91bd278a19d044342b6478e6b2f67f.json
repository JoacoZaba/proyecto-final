{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zabas\\\\Documents\\\\Coder house\\\\3 React JS\\\\trabajo final\\\\my_app\\\\src\\\\contexto\\\\contexto.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductoContext = /*#__PURE__*/createContext();\nexport const ProductoProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [productos, setProductos] = useState([]);\n  const [carrito, setCarrito] = useState([]);\n\n  const agregarCarrito = producto => {\n    var foundIndex = carrito.findIndex(x => x.id === producto.id);\n    console.log(foundIndex);\n\n    if (foundIndex !== -1) {\n      //carrito[foundIndex].count++;\n      setCarrito(carrito.map(item => item.id === producto.id ? { ...producto,\n        count: producto.count++\n      } : producto));\n    } else {\n      setCarrito([...carrito, { ...producto,\n        count: 1\n      }]);\n    }\n  };\n\n  const removerDelCarrito = producto => {\n    var foundIndex = carrito.findIndex(x => x.id === producto.id);\n    console.log(foundIndex);\n\n    if (foundIndex !== -1) {\n      if (carrito[foundIndex].count > 1) {\n        console.log(\"lo encontre\"); //carrito[foundIndex].count--;\n\n        setCarrito(carrito.map(item => item.id === producto.id ? { ...producto,\n          count: producto.count--\n        } : producto));\n      } else {\n        console.log(\"no lo encontre\");\n        setCarrito(carrito.filter(x => x.id === producto.id));\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ProductoContext.Provider, {\n    value: {\n      productos,\n      setProductos,\n      carrito,\n      agregarCarrito,\n      removerDelCarrito\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductoProvider, \"PZScE6ybPZKqHu4fJemM75Ix+RA=\");\n\n_c = ProductoProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductoProvider\");","map":{"version":3,"sources":["C:/Users/zabas/Documents/Coder house/3 React JS/trabajo final/my_app/src/contexto/contexto.js"],"names":["React","createContext","useState","ProductoContext","ProductoProvider","children","productos","setProductos","carrito","setCarrito","agregarCarrito","producto","foundIndex","findIndex","x","id","console","log","map","item","count","removerDelCarrito","filter"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,aAAd,EAA6BC,QAA7B,QAA4C,OAA5C;;AAIA,OAAO,MAAMC,eAAe,gBAAGF,aAAa,EAArC;AAEP,OAAO,MAAMG,gBAAgB,GAAG,QAAgB;AAAA;;AAAA,MAAf;AAACC,IAAAA;AAAD,GAAe;AAC5C,QAAM,CAACC,SAAD,EAAWC,YAAX,IAA2BL,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAM,CAACM,OAAD,EAASC,UAAT,IAAuBP,QAAQ,CAAC,EAAD,CAArC;;AACA,QAAMQ,cAAc,GAAGC,QAAD,IAAY;AAC9B,QAAIC,UAAU,GAAGJ,OAAO,CAACK,SAAR,CAAkBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASJ,QAAQ,CAACI,EAAzC,CAAjB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,UAAZ;;AACA,QAAIA,UAAU,KAAK,CAAC,CAApB,EAAuB;AACnB;AACAH,MAAAA,UAAU,CAACD,OAAO,CAACU,GAAR,CAAaC,IAAD,IAAUA,IAAI,CAACJ,EAAL,KAAYJ,QAAQ,CAACI,EAArB,GAA0B,EAAC,GAAGJ,QAAJ;AAAcS,QAAAA,KAAK,EAAET,QAAQ,CAACS,KAAT;AAArB,OAA1B,GAAoET,QAA1F,CAAD,CAAV;AACH,KAHD,MAGO;AACHF,MAAAA,UAAU,CAAC,CACP,GAAGD,OADI,EAEP,EACI,GAAGG,QADP;AAEIS,QAAAA,KAAK,EAAE;AAFX,OAFO,CAAD,CAAV;AAOH;AACJ,GAfD;;AAgBA,QAAMC,iBAAiB,GAAGV,QAAD,IAAY;AACjC,QAAIC,UAAU,GAAGJ,OAAO,CAACK,SAAR,CAAkBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASJ,QAAQ,CAACI,EAAzC,CAAjB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,UAAZ;;AACA,QAAIA,UAAU,KAAK,CAAC,CAApB,EAAuB;AACnB,UAAIJ,OAAO,CAACI,UAAD,CAAP,CAAoBQ,KAApB,GAA0B,CAA9B,EAAgC;AAC5BJ,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAD4B,CAE5B;;AACAR,QAAAA,UAAU,CAACD,OAAO,CAACU,GAAR,CAAaC,IAAD,IAAUA,IAAI,CAACJ,EAAL,KAAYJ,QAAQ,CAACI,EAArB,GAA0B,EAAC,GAAGJ,QAAJ;AAAcS,UAAAA,KAAK,EAAET,QAAQ,CAACS,KAAT;AAArB,SAA1B,GAAoET,QAA1F,CAAD,CAAV;AACH,OAJD,MAIO;AACHK,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAR,QAAAA,UAAU,CAACD,OAAO,CAACc,MAAR,CAAeR,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASJ,QAAQ,CAACI,EAAtC,CAAD,CAAV;AACH;AAEJ;AACJ,GAdD;;AAeA,sBAEI,QAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAE;AAACT,MAAAA,SAAD;AAAWC,MAAAA,YAAX;AAAwBC,MAAAA,OAAxB;AAAgCE,MAAAA,cAAhC;AAA+CW,MAAAA;AAA/C,KAAjC;AAAA,cACKhB;AADL;AAAA;AAAA;AAAA;AAAA,UAFJ;AAQH,CA1CM;;GAAMD,gB;;KAAAA,gB","sourcesContent":["import React,{createContext, useState} from \"react\";\r\n\r\n\r\n\r\nexport const ProductoContext = createContext(); \r\n\r\nexport const ProductoProvider = ({children}) => {\r\n    const [productos,setProductos] = useState([]);\r\n    const [carrito,setCarrito] = useState([]);\r\n    const agregarCarrito =(producto)=>{\r\n        var foundIndex = carrito.findIndex(x => x.id === producto.id);\r\n        console.log(foundIndex)\r\n        if (foundIndex !== -1) {\r\n            //carrito[foundIndex].count++;\r\n            setCarrito(carrito.map((item)=>( item.id === producto.id ? {...producto, count: producto.count++ } : producto )));\r\n        } else {\r\n            setCarrito([\r\n                ...carrito,\r\n                {\r\n                    ...producto,\r\n                    count: 1,\r\n                }\r\n            ]);\r\n        }\r\n    }\r\n    const removerDelCarrito =(producto)=>{\r\n        var foundIndex = carrito.findIndex(x => x.id === producto.id)\r\n        console.log(foundIndex);\r\n        if (foundIndex !== -1) {\r\n            if (carrito[foundIndex].count>1){\r\n                console.log(\"lo encontre\");\r\n                //carrito[foundIndex].count--;\r\n                setCarrito(carrito.map((item)=>( item.id === producto.id ? {...producto, count: producto.count-- } : producto )));\r\n            } else {\r\n                console.log(\"no lo encontre\");\r\n                setCarrito(carrito.filter(x => x.id === producto.id))\r\n            }\r\n        \r\n        } \r\n    }\r\n    return(\r\n\r\n        <ProductoContext.Provider value={{productos,setProductos,carrito,agregarCarrito,removerDelCarrito}}> \r\n            {children} \r\n        </ProductoContext.Provider>\r\n\r\n    )\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}